<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Resume PDF Generator</title>
<style>
    body {
        font-family: Arial, sans-serif;
        text-align: center;
        margin-top: 50px;
    }
    .btn {
        padding: 12px 25px;
        background-color: #6c63ff;
        color: white;
        border: none;
        border-radius: 6px;
        font-size: 16px;
        cursor: pointer;
    }
    .btn:hover {
        background-color: #5a54d1;
    }
</style>
</head>
<body>

    <button id="action-btn" class="btn">Generate PDF</button>

<script>
const btn = document.getElementById("action-btn");

btn.addEventListener("click", async () => {
    // Change button text while waiting
    btn.disabled = true;
    btn.innerText = "Generating...";

    try {
        const res = await fetch("http://localhost:3000/generate-pdf");
        if (!res.ok) throw new Error("Failed to generate PDF");

        const blob = await res.blob();
        const url = URL.createObjectURL(blob);

        // Change button into download button
        btn.innerText = "Download PDF";
        btn.disabled = false;
        btn.onclick = () => {
            const a = document.createElement("a");
            a.href = url;
            a.download = "resume.pdf";
            a.click();
        };
    } catch (err) {
        alert("Error generating PDF: " + err.message);
        btn.innerText = "Generate PDF";
        btn.disabled = false;
    }
});
</script>

</body>
</html>




